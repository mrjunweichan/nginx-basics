
## Introduction to NGINX






## Basic and Best Practices of NGINX Plus


```text title="NGINX Folder Structure"
/etc/nginx/
├── nginx.conf              # Main NGINX configuration file
├── conf.d/                 # HTTP server blocks (virtual hosts)
│   ├── default.conf        # Default server configuration
│   ├── example.com.conf    # Example website configuration
│   └── ...                 # Other site configs
├── includes/               # Other configuration
│   ├── log_formats/        # Folder to organise configs (logs)
│   ├── ssl/                # Folder to organise configs (ssl)
│   └── ...                 # Other site configs
├── ssl/                    # NGINX cert & keys (create manually)
│   ├── nginx.crt           # NGINX certificate file
│   └── nginx.key           # NGINX private key file
├── modules/                # Dynamic modules (if manually installed)
├── mime.types              # Maps file extensions to MIME types
├── stream.conf.d/          # Stream (TCP/UDP) configurations
│   ├── mysql.conf          # Example TCP proxy for MySQL
│   └── ...                 # Other stream configs
├── fastcgi_params          # FastCGI parameters
├── scgi_params             # SCGI parameters
├── uwsgi_params            # uWSGI parameters
├── proxy_params            # Common proxy settings
├── license.jwt             # NGINX License File
└── ...                     # Other optional config files

# Log files
/var/log/nginx/
├── access.log                    # All HTTP requests
├── error.log                     # Error logs
└── ...                           # Additional log files (if configured)

/usr/share/nginx/html/            # Default web root (or /var/www/html/)
├── index.html                    # Default index page
└── ...                           # Website files

/usr/lib/nginx/modules/           # NGINX Plus dynamic modules
├── ngx_http_js_module.so         # NGINX JavaScript module
├── ngx_stream_js_module.so       # Stream JavaScript module
└── ...                           # Other proprietary modules

/run/nginx.pid                    # Stores the master process PID

```



## Understanding .conf files

```nginx title:"/etc/nginx/nginx.conf"
user  nginx;
worker_processes  1;

error_log  /var/log/nginx/error.log info;
pid        /var/run/nginx.pid;

events {
    worker_connections  1024;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    
    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';
	                    
    # include /etc/nginx/includes/log_formats/*.conf;
    
    access_log  /var/log/nginx/access.log  main;
    
    sendfile        on;
    #tcp_nopush     on;
    
    keepalive_timeout  65;
    
    #gzip  on;
    
    include /etc/nginx/conf.d/*.conf;
}
```

NGINX Configurations are made up from 4 common elements:
* Contexts
* Includes
* Directives
* Blocks

**Contexts** refer to a scoped configuration.
```nginx title:"Context Example"
http {
    server {
        listen 80;
    }
}
```
> `http` is a top-level context to define web-related configurations
> `server` is a nested context inside `http`, representing a virtual host

**Includes** refer to additional files that NGINX should use for configuration.
```nginx title:"Includes Example"
include /etc/nginx/conf.d/*.conf;
```
> `include` pulls all of the `.conf` files from `/etc/nginx/conf.d`

**Simple directives:** are single line commands with some parameters that end in a semi-colon `;`
```nginx title:"Simple Directive Example"
worker_processes  auto;
```
> This directive tells NGINX to automatically determine the number of worker processes to start based on the number of available CPU cores
> [Index of directives](https://nginx.org/en/docs/dirindex.html)

**Block directives:** are multiple line commands, with an opening and closing curly brace `{}`. A block directive can contain single line directives and also contain other block directives, called nested blocks.
```nginx title:"Block Directive Examples"
location /images/ {
    autoindex on;
}
```
> `location` block matches URLs starting with `/images/`, and includes the `autoindex` directive
  
  
---
## Modules



